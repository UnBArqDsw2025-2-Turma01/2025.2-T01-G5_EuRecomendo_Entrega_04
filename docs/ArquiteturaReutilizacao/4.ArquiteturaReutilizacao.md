# 4. Desenho de Software (Arquitetura & Reutilização de Software)

## Introdução

Esta entrega apresenta a documentação completa da arquitetura do sistema **EuRecomendo**, seguindo as melhores práticas de engenharia de software e os princípios do modelo 4+1 do RUP (Rational Unified Process).

## Objetivos

Os principais objetivos desta entrega são:

1. **Documentar a Arquitetura de Software (DAS)** do sistema EuRecomendo de forma clara e completa
2. **Apresentar as visões arquiteturais** que descrevem diferentes aspectos do sistema
3. **Demonstrar a reutilização de software** através de frameworks, bibliotecas e padrões de projeto
4. **Estabelecer decisões arquiteturais** fundamentadas e documentadas
5. **Facilitar a manutenção e evolução** do sistema através de documentação adequada

## Estrutura da Documentação

Esta entrega reutiliza diretamente os artefatos consolidados das entregas 01, 02 e 03 (rich picture, storyboard, diagramas UML e padrões GoF). Todos os arquivos foram copiados para `docs/assets/` para garantir rastreabilidade e visualização na Wiki.

### 4.1. Documentação de Arquitetura de Software (DAS)

A DAS está organizada seguindo o modelo 4+1, que consiste em:

#### 4.1.1. Introdução
Apresenta o contexto, objetivos e escopo da documentação arquitetural.

#### 4.1.2. Visão Lógica
Descreve a estrutura estática do sistema através de:
- **Diagrama de Pacotes**: Organização dos módulos e suas dependências
- **Diagrama de Classes**: Entidades do domínio e seus relacionamentos
- **Padrões de Design**: Aplicação de padrões GoF no código

#### 4.1.3. Visualização de Processo
Ilustra o comportamento dinâmico do sistema através de:
- **Diagramas de Atividades**: Fluxos de processos principais
- **Diagramas de Sequência**: Interações entre objetos
- **Diagramas de Estados**: Ciclo de vida de entidades críticas

#### 4.1.4. Visualização de Casos de Uso
Documenta as funcionalidades do sistema através de:
- **Diagrama de Casos de Uso**: Atores e suas interações
- **Especificações de Casos de Uso**: Detalhamento dos fluxos
- **Relacionamentos**: Include, extend e generalizações

#### 4.1.5. Visualização de Implantação
Descreve a infraestrutura física através de:
- **Diagrama de Implantação**: Nós, artefatos e conexões
- **Configuração de Servidores**: Especificações técnicas
- **Estratégia de Deploy**: Containerização e orquestração

### 4.2. Reutilização de Software

Documenta as estratégias de reutilização aplicadas no projeto:
- **Frameworks Utilizados**: Django, Django REST Framework, Celery
- **Bibliotecas de Terceiros**: PostgreSQL drivers, Redis clients
- **Padrões de Projeto**: GoFs Criacionais, Estruturais e Comportamentais
- **Componentes Reutilizáveis**: Serializers, ViewSets, Middlewares
- **APIs Externas**: Serviços de terceiros integrados

### 4.3. Participações

Registro detalhado das contribuições de cada membro da equipe nas atividades de arquitetura e reutilização de software.

## Tecnologias e Ferramentas

### Stack Tecnológico
- **Backend**: Django 4.x + Django REST Framework
- **Banco de Dados**: PostgreSQL 14+
- **Cache/Message Broker**: Redis
- **Task Queue**: Celery
- **Autenticação**: JWT (SimpleJWT)

### Ferramentas de Modelagem
- **Diagramas UML**: Lucidchart, Draw.io
- **Documentação**: Docsify
- **Controle de Versão**: Git/GitHub

## Princípios Arquiteturais

O sistema EuRecomendo foi projetado seguindo os seguintes princípios:

1. **Separação de Responsabilidades**: Arquitetura em camadas (Apresentação, Negócio, Dados)
2. **Baixo Acoplamento**: Módulos independentes com interfaces bem definidas
3. **Alta Coesão**: Componentes com responsabilidades bem delimitadas
4. **Reutilização**: Uso extensivo de frameworks e padrões estabelecidos
5. **Escalabilidade**: Processamento assíncrono e cache para performance
6. **Manutenibilidade**: Código limpo, documentado e testável
7. **Segurança**: Autenticação JWT, validação de dados, HTTPS

## Atributos de Qualidade

### Performance
- Tempo de resposta < 2 segundos para recomendações
- Cache de resultados frequentes
- Processamento assíncrono de tarefas pesadas

### Escalabilidade
- Arquitetura stateless para horizontal scaling
- Uso de message queue para distribuição de carga
- Database connection pooling

### Disponibilidade
- Target: 99.5% uptime
- Health checks e monitoring
- Graceful degradation

### Segurança
- Autenticação JWT obrigatória
- HTTPS em produção
- Validação de entrada de dados
- Rate limiting

### Manutenibilidade
- Cobertura de testes > 80%
- Documentação inline
- Padrões de código consistentes
- CI/CD pipeline

## Decisões Arquiteturais Principais

### DA-01: Arquitetura Monolítica Modular
**Decisão**: Implementar como monolito modular ao invés de microserviços  
**Justificativa**: Simplicidade de desenvolvimento e deploy para o escopo atual  
**Alternativas Consideradas**: Microserviços (complexidade desnecessária)

### DA-02: API RESTful
**Decisão**: Usar REST ao invés de GraphQL  
**Justificativa**: Maturidade do Django REST Framework e simplicidade  
**Alternativas Consideradas**: GraphQL (overhead para o caso de uso)

### DA-03: Processamento Assíncrono
**Decisão**: Celery para tarefas de recomendação  
**Justificativa**: Não bloquear requisições HTTP com processamento pesado  
**Alternativas Consideradas**: Processamento síncrono (má UX)

### DA-04: PostgreSQL como Banco Principal
**Decisão**: PostgreSQL ao invés de NoSQL  
**Justificativa**: Dados estruturados, ACID, suporte a JSON quando necessário  
**Alternativas Consideradas**: MongoDB (menos adequado para relações complexas)

## Referências

1. KRUCHTEN, Philippe. **The 4+1 View Model of Architecture**. IEEE Software, 1995.
2. BASS, Len; CLEMENTS, Paul; KAZMAN, Rick. **Software Architecture in Practice**. 3rd ed. Addison-Wesley, 2012.
3. FOWLER, Martin. **Patterns of Enterprise Application Architecture**. Addison-Wesley, 2002.
4. Django Documentation. Disponível em: https://docs.djangoproject.com/

## Histórico de Versões

| **Data**       | **Versão** | **Descrição**                         | **Autor**                                      |
| :--------: | :----: | :-------------------------------- | :----------------------------------------: |
| 21/11/2025 |  `1.0`   | Criação do documento de arquitetura e reutilização | Pedro Braga ([@Stain19](https://github.com/Stain19)) |
